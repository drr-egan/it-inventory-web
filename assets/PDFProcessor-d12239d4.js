var p=(m,i,a)=>new Promise((l,o)=>{var n=s=>{try{t(a.next(s))}catch(r){o(r)}},d=s=>{try{t(a.throw(s))}catch(r){o(r)}},t=s=>s.done?l(s.value):Promise.resolve(s.value).then(n,d);t((a=a.apply(m,i)).next())});import{j as e,w as u}from"./index-fff647dd.js";import{r as x}from"./react-vendor-a2e93a7f.js";import"./firebase-vendor-75c67651.js";const b=({user:m})=>{const[i,a]=x.useState(!1),[l,o]=x.useState(null),n=s=>{const r=s.target.files[0];r&&r.type==="application/pdf"?o(r):alert("Please select a valid PDF file.")},d=u((s,r,f)=>p(void 0,null,function*(){a(!0);try{console.log("Processing PDF with libraries:",{pdfjsLib:s,PDFLib:r}),yield new Promise(c=>setTimeout(c,2e3)),alert("PDF processed successfully! (Placeholder)")}catch(c){console.error("PDF processing error:",c),alert("Error processing PDF: "+c.message)}finally{a(!1)}})),t=()=>p(void 0,null,function*(){if(!l){alert("Please select a PDF file first.");return}yield d(l)});return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[e.jsx("input",{type:"file",accept:".pdf",onChange:n,className:"hidden",id:"pdf-upload"}),e.jsxs("label",{htmlFor:"pdf-upload",className:"cursor-pointer flex flex-col items-center space-y-2",children:[e.jsx("span",{className:"material-icons text-4xl text-gray-400",children:"upload_file"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload PDF receipt or drag and drop"}),l&&e.jsxs("p",{className:"text-sm text-blue-600 font-medium",children:["Selected: ",l.name]})]})]}),l&&e.jsx("button",{onClick:t,disabled:i,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Processing PDF..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-icons text-sm",children:"picture_as_pdf"}),e.jsx("span",{children:"Process PDF"})]})})]})};export{b as default};
