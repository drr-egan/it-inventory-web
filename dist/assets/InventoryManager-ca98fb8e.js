var Ee=Object.defineProperty,Ae=Object.defineProperties;var _e=Object.getOwnPropertyDescriptors;var ge=Object.getOwnPropertySymbols;var Be=Object.prototype.hasOwnProperty,ze=Object.prototype.propertyIsEnumerable;var ue=(h,i,o)=>i in h?Ee(h,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):h[i]=o,g=(h,i)=>{for(var o in i||(i={}))Be.call(i,o)&&ue(h,o,i[o]);if(ge)for(var o of ge(i))ze.call(i,o)&&ue(h,o,i[o]);return h},p=(h,i)=>Ae(h,_e(i));var P=(h,i,o)=>new Promise((V,B)=>{var j=b=>{try{S(o.next(b))}catch(C){B(C)}},O=b=>{try{S(o.throw(b))}catch(C){B(C)}},S=b=>b.done?V(b.value):Promise.resolve(b.value).then(j,O);S((o=o.apply(h,i)).next())});import{j as e,L as Le,d as k,_ as he}from"./index-b67e38ec.js";import{r as n}from"./react-vendor-3371026b.js";import{q as Te,c as Qe,d as ye,e as Fe,f as Q,u as W,h as F,j as Me}from"./firebase-vendor-fa5a9e75.js";import{M as w}from"./MaterialCard-21fbd7e0.js";import{M as m}from"./MaterialButton-f13ec75e.js";import{M as D}from"./MaterialInput-6ce45dbf.js";import{M as Ue}from"./MaterialPagination-ff4c1f80.js";const Je=({user:h})=>{const[i,o]=n.useState([]),[V,B]=n.useState(!0),[j,O]=n.useState("edit"),[S,b]=n.useState(""),[C,pe]=n.useState("all"),[q,M]=n.useState({}),[v,G]=n.useState(""),[J,je]=n.useState([]),[$,K]=n.useState({currentPage:1,itemsPerPage:50,totalItems:0}),[c,E]=n.useState({name:"",price:"",quantity:"",category:"",asin:""}),[X,Y]=n.useState(!1),[u,A]=n.useState(new Set),[y,ee]=n.useState(""),[z,te]=n.useState(""),[ae,se]=n.useState(!1),[x,re]=n.useState(null),[_,ne]=n.useState(!1),[l,ie]=n.useState(null),[N,le]=n.useState(!1),Z=n.useRef(null);n.useEffect(()=>{const t=Te(ye(k,"items"),Qe("name")),a=Fe(t,s=>{const r=s.docs.map(d=>g({id:d.id},d.data()));o(r),B(!1)},s=>{console.error("Error fetching items:",s),B(!1)});return()=>a()},[]);const ce=["all",...new Set(i.map(t=>t.category||"Uncategorized").filter(Boolean))],H=i.filter(t=>{var r,d;const a=((r=t.name)==null?void 0:r.toLowerCase().includes(S.toLowerCase()))||((d=t.asin)==null?void 0:d.toLowerCase().includes(S.toLowerCase())),s=C==="all"||t.category===C;return a&&s});n.useEffect(()=>{K(t=>p(g({},t),{totalItems:H.length}))},[H.length]);const L=()=>{const t=($.currentPage-1)*$.itemsPerPage,a=t+$.itemsPerPage;return H.slice(t,a)},fe=t=>{K(a=>p(g({},a),{currentPage:t}))},be=t=>{K(a=>p(g({},a),{itemsPerPage:t,currentPage:1}))},de=(t,a,s)=>{M(r=>p(g({},r),{[t]:p(g({},r[t]),{[a]:s})}))},ve=t=>P(void 0,null,function*(){const a=q[t];if(a)try{const s={};a.quantity!==void 0&&(s.quantity=parseInt(a.quantity)),a.price!==void 0&&(s.price=parseFloat(a.price)),s.lastUpdated=Q(),yield W(F(k,"items",t),s),M(r=>{const d=g({},r);return delete d[t],d})}catch(s){console.error("Error updating item:",s),alert(`Failed to update item: ${s.message}`)}}),oe=()=>P(void 0,null,function*(){if(v.trim())try{const t=v.toLowerCase().trim(),a=i.find(s=>s.asin===v||s.id===v||s.name.toLowerCase()===t||s.name.toLowerCase().includes(t));if(!a){alert(`Item not found: ${v}`);return}yield W(F(k,"items",a.id),{quantity:(a.quantity||0)+1,lastUpdated:Q()}),je(s=>[{id:Date.now(),item:a,timestamp:new Date},...s.slice(0,4)]),G(""),Z.current&&Z.current.focus()}catch(t){console.error("Scan error:",t),alert(`Scan failed: ${t.message}`)}}),Ne=t=>{t.key==="Enter"&&v.trim()&&(t.preventDefault(),oe())},ke=()=>P(void 0,null,function*(){if(!c.name.trim()){alert("Item name is required");return}Y(!0);try{yield Me(ye(k,"items"),{name:c.name.trim(),price:c.price?parseFloat(c.price):0,quantity:c.quantity?parseInt(c.quantity):0,category:c.category||"Uncategorized",asin:c.asin||"",minThreshold:5,createdAt:Q(),lastUpdated:Q()}),E({name:"",price:"",quantity:"",category:"",asin:""}),alert("Item created successfully!")}catch(t){console.error("Error creating item:",t),alert(`Failed to create item: ${t.message}`)}finally{Y(!1)}}),we=()=>{const t=`Item,Current Quantity,New Quantity,Price,ASIN,Category
`,a=i.map(f=>`"${f.name}",${f.quantity||0},,${f.price||""},${f.asin||""},${f.category||""}`).join(`
`),s=new Blob([t+a],{type:"text/csv"}),r=window.URL.createObjectURL(s),d=document.createElement("a");d.href=r,d.download=`inventory-export-${new Date().toISOString().split("T")[0]}.csv`,d.click()},Se=t=>{A(a=>{const s=new Set(a);return s.has(t)?s.delete(t):s.add(t),s})},Ce=()=>{u.size===L().length?A(new Set):A(new Set(L().map(t=>t.id)))},Ie=()=>P(void 0,null,function*(){if(u.size===0){alert("Please select items to perform bulk action");return}if(!y){alert("Please select a bulk action");return}if((y==="setQuantity"||y==="setPrice")&&!z){alert("Please enter a value");return}const t=`Are you sure you want to ${y} for ${u.size} items?`;if(confirm(t)){se(!0);try{const a=[];for(const s of u){const r={lastUpdated:Q()};switch(y){case"setQuantity":r.quantity=parseInt(z);break;case"setPrice":r.price=parseFloat(z);break;case"setZero":r.quantity=0;break;case"incrementQuantity":const d=i.find(f=>f.id===s);r.quantity=((d==null?void 0:d.quantity)||0)+(parseInt(z)||1);break}a.push(W(F(k,"items",s),r))}yield Promise.all(a),A(new Set),ee(""),te(""),alert(`Bulk action completed for ${u.size} items!`)}catch(a){console.error("Bulk action error:",a),alert(`Bulk action failed: ${a.message}`)}finally{se(!1)}}}),Pe=t=>{re(t)},U=()=>{re(null)},De=()=>P(void 0,null,function*(){if(!(!x||_)){ne(!0);try{const{deleteDoc:t}=yield he(()=>import("./firebase-vendor-fa5a9e75.js").then(a=>a.n),[]);yield t(F(k,"items",x.id)),U()}catch(t){console.error("Error deleting item:",t),alert(`Failed to delete item: ${t.message}`)}finally{ne(!1)}}}),qe=()=>{if(u.size===0){alert("No items selected");return}const t=i.filter(a=>u.has(a.id));ie(t)},R=()=>{ie(null)},$e=()=>P(void 0,null,function*(){if(!(!l||l.length===0||N)){le(!0);try{const{deleteDoc:t,writeBatch:a}=yield he(()=>import("./firebase-vendor-fa5a9e75.js").then(r=>r.n),[]),s=a(k);l.forEach(r=>{s.delete(F(k,"items",r.id))}),yield s.commit(),A(new Set),R(),alert(`Successfully deleted ${l.length} item${l.length>1?"s":""}!`)}catch(t){console.error("Error bulk deleting items:",t),alert(`Failed to delete items: ${t.message}`)}finally{le(!1)}}});return n.useEffect(()=>{const t=a=>{a.key==="Escape"&&(x&&!_?U():l&&!N&&R())};if(x||l)return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[x,_,l,N]),V?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(Le,{size:"large"}),e.jsx("span",{className:"ml-4 dark:text-gray-300",children:"Loading inventory..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(w,{elevation:2,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx("span",{className:"material-icons mr-2",children:"inventory_2"}),"Inventory Management"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:j==="edit"?"Direct editing and bulk operations":"Rapid inventory counting"})]}),e.jsxs(m,{variant:"contained",color:j==="scan"?"success":"primary",onClick:()=>O(j==="edit"?"scan":"edit"),children:[e.jsx("span",{className:"material-icons mr-2",children:j==="scan"?"edit":"qr_code_scanner"}),"Switch to ",j==="edit"?"Scan":"Edit"," Mode"]})]}),j==="edit"&&e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(m,{variant:"outlined",color:"primary",onClick:we,children:[e.jsx("span",{className:"material-icons mr-2",children:"download"}),"Export Template"]}),e.jsxs(m,{variant:"outlined",color:"primary",children:[e.jsx("span",{className:"material-icons mr-2",children:"upload"}),"Import CSV"]})]})]}),j==="scan"&&e.jsxs(w,{elevation:1,children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx("span",{className:"material-icons mr-2 text-green-600",children:"qr_code_scanner"}),"Barcode Scanner"]}),e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsx(D,{ref:Z,label:"Scan barcode or type item name",value:v,onChange:t=>G(t.target.value),onKeyDown:Ne,autoFocus:!0,placeholder:"Enter item name, ASIN, or scan barcode..."}),e.jsxs(m,{onClick:oe,disabled:!v.trim(),variant:"contained",color:"success",className:"!px-8",children:[e.jsx("span",{className:"material-icons mr-2",children:"search"}),"Scan"]})]}),J.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Recent Scans"}),e.jsx("div",{className:"space-y-2",children:J.map(t=>e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:t.item.name}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.timestamp.toLocaleTimeString()})]}),e.jsx("span",{className:"text-green-600 dark:text-green-400 font-bold",children:"✨ +1"})]},t.id))})]})]}),j==="edit"&&e.jsxs(e.Fragment,{children:[e.jsxs(w,{elevation:1,children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx("span",{className:"material-icons mr-2 text-blue-600",children:"add_box"}),"Add New Item"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(D,{label:"Item Name *",value:c.name,onChange:t=>E(p(g({},c),{name:t.target.value}))}),e.jsx(D,{label:"Price",type:"number",value:c.price,onChange:t=>E(p(g({},c),{price:t.target.value}))}),e.jsx(D,{label:"Initial Quantity",type:"number",value:c.quantity,onChange:t=>E(p(g({},c),{quantity:t.target.value}))}),e.jsx(D,{label:"ASIN",value:c.asin,onChange:t=>E(p(g({},c),{asin:t.target.value}))}),e.jsxs("select",{value:c.category,onChange:t=>E(p(g({},c),{category:t.target.value})),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"Select Category"}),ce.filter(t=>t!=="all").map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsxs(m,{onClick:ke,disabled:X||!c.name.trim(),variant:"contained",color:"success",children:[e.jsx("span",{className:"material-icons mr-2",children:"add"}),X?"Creating...":"Create Item"]})]})]}),e.jsx(w,{elevation:1,children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx(D,{label:"Search items",value:S,onChange:t=>b(t.target.value),placeholder:"Search by name or ASIN..."}),e.jsx("select",{value:C,onChange:t=>pe(t.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:ce.map(t=>e.jsx("option",{value:t,children:t==="all"?"All Categories":t},t))})]})}),u.size>0&&e.jsxs(w,{elevation:2,className:"!bg-blue-50 dark:!bg-blue-900/20 !border !border-blue-200 dark:!border-blue-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white flex items-center",children:[e.jsx("span",{className:"material-icons mr-2 text-blue-600",children:"check_circle"}),"Bulk Actions"]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[u.size," item",u.size!==1?"s":""," selected"]})]}),e.jsx(m,{onClick:()=>A(new Set),variant:"text",color:"secondary",children:"Clear Selection"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("select",{value:y,onChange:t=>ee(t.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"Select Action"}),e.jsx("option",{value:"setQuantity",children:"Set Quantity"}),e.jsx("option",{value:"setPrice",children:"Set Price"}),e.jsx("option",{value:"incrementQuantity",children:"Increment Quantity"}),e.jsx("option",{value:"setZero",children:"Set All to Zero"})]}),(y==="setQuantity"||y==="setPrice"||y==="incrementQuantity")&&e.jsx(D,{label:y==="setPrice"?"Price":"Quantity",type:"number",step:y==="setPrice"?"0.01":"1",value:z,onChange:t=>te(t.target.value)}),e.jsxs(m,{onClick:qe,disabled:N,variant:"contained",color:"error",children:[e.jsx("span",{className:"material-icons mr-2",children:"delete_sweep"}),N?"Deleting...":`Delete ${u.size}`]}),e.jsxs(m,{onClick:Ie,disabled:ae||!y,variant:"contained",color:"primary",children:[e.jsx("span",{className:"material-icons mr-2",children:"done_all"}),ae?"Processing...":"Apply to Selected"]})]})]}),e.jsxs(w,{elevation:1,children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:u.size===L().length&&L().length>0,onChange:Ce,className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Item"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Quantity"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Price"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:L().map(t=>{var a,s,r,d,f,me;return e.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700 ${u.has(t.id)?"bg-blue-50 dark:bg-blue-900/20":""}`,children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",checked:u.has(t.id),onChange:()=>Se(t.id),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:t.name}),t.asin&&e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.asin})]}),e.jsx("td",{className:"px-6 py-4",children:q[t.id]?e.jsx("input",{type:"number",value:(r=(s=(a=q[t.id])==null?void 0:a.quantity)!=null?s:t.quantity)!=null?r:0,onChange:I=>de(t.id,"quantity",I.target.value),className:"w-20 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}):e.jsx("span",{className:`quantity-badge ${t.quantity===0?"out-of-stock":t.quantity<=(t.minThreshold||5)?"low-stock":"adequate-stock"}`,children:t.quantity||0})}),e.jsx("td",{className:"px-6 py-4",children:q[t.id]?e.jsx("input",{type:"number",step:"0.01",value:(me=(f=(d=q[t.id])==null?void 0:d.price)!=null?f:t.price)!=null?me:0,onChange:I=>de(t.id,"price",I.target.value),className:"w-24 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}):t.price>0?e.jsxs("span",{style:{color:"var(--color-success-green)",fontSize:"14px",fontWeight:"600"},children:["$",parseFloat(t.price).toFixed(2)]}):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400",children:t.category||"Uncategorized"}),e.jsx("td",{className:"px-6 py-4",children:q[t.id]?e.jsxs("div",{className:"flex gap-2",children:[e.jsx(m,{onClick:()=>ve(t.id),variant:"text",color:"success",className:"!p-2 !min-w-0",children:e.jsx("span",{className:"material-icons text-sm",children:"save"})}),e.jsx(m,{onClick:()=>M(I=>{const T=g({},I);return delete T[t.id],T}),variant:"text",color:"error",className:"!p-2 !min-w-0",children:e.jsx("span",{className:"material-icons text-sm",children:"close"})})]}):e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(m,{onClick:()=>M(I=>{var T,xe;return p(g({},I),{[t.id]:{quantity:(T=t.quantity)!=null?T:0,price:(xe=t.price)!=null?xe:0}})}),variant:"text",color:"primary",className:"!p-2 !min-w-0",children:e.jsx("span",{className:"material-icons text-sm",children:"edit"})}),e.jsx(m,{onClick:()=>Pe(t),variant:"contained",color:"error",className:"!p-2.5 !min-w-0",children:e.jsx("span",{className:"material-icons",children:"delete"})})]})})]},t.id)})})]})}),e.jsx(Ue,{currentPage:$.currentPage,totalItems:$.totalItems,itemsPerPage:$.itemsPerPage,onPageChange:fe,onItemsPerPageChange:be})]})]}),x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:t=>t.target===t.currentTarget&&U(),children:e.jsx(w,{elevation:3,className:"max-w-md w-full",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx("span",{className:"material-icons mr-2 text-red-600",children:"warning"}),"Confirm Delete"]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-3",children:"Are you sure you want to delete this item? This action cannot be undone."}),e.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:x.name}),e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs ${x.quantity<=(x.minThreshold||5)?"bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-300":"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-300"}`,children:["Qty: ",x.quantity]})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{children:["Category: ",x.category||"Uncategorized"]}),x.asin&&e.jsxs("div",{children:["ASIN: ",x.asin]}),x.price>0&&e.jsxs("div",{children:["Price: $",x.price]})]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(m,{onClick:U,variant:"outlined",color:"secondary",disabled:_,className:"flex-1",children:"Cancel"}),e.jsx(m,{onClick:De,variant:"contained",color:"error",disabled:_,className:"flex-1",children:_?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Deleting..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-icons mr-2",children:"delete"}),"Delete"]})})]})]})})}),l&&l.length>0&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:t=>t.target===t.currentTarget&&R(),children:e.jsx(w,{elevation:3,className:"max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx("span",{className:"material-icons mr-2 text-red-600",children:"warning"}),"Confirm Bulk Delete"]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-3",children:["Are you sure you want to delete ",l.length," item",l.length>1?"s":"","? This action cannot be undone."]}),e.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg mb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Items to be deleted:"}),e.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[l.slice(0,10).map(t=>e.jsx("div",{className:"flex items-center justify-between bg-white dark:bg-gray-600 p-2 rounded",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:t.name}),e.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[t.category||"Uncategorized"," • Qty: ",t.quantity,t.price>0&&` • $${t.price}`]})]})},t.id)),l.length>10&&e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 italic",children:["...and ",l.length-10," more item",l.length-10>1?"s":""]})]})]}),e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-500/30 p-3 rounded-lg",children:e.jsxs("div",{className:"flex items-center text-red-600 dark:text-red-400 text-sm",children:[e.jsx("span",{className:"material-icons mr-2 text-sm",children:"info"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:"Summary:"}),e.jsxs("div",{children:["Total items: ",l.length]}),e.jsxs("div",{children:["Categories: ",Array.from(new Set(l.map(t=>t.category||"Uncategorized"))).join(", ")]})]})]})})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(m,{onClick:R,variant:"outlined",color:"secondary",disabled:N,className:"flex-1",children:"Cancel"}),e.jsx(m,{onClick:$e,variant:"contained",color:"error",disabled:N,className:"flex-1",children:N?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Deleting..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-icons mr-2",children:"delete_sweep"}),"Delete ",l.length," Item",l.length>1?"s":""]})})]})]})})})]})};export{Je as default};
