var J=Object.defineProperty,Y=Object.defineProperties;var W=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var D=(o,r,a)=>r in o?J(o,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[r]=a,t=(o,r)=>{for(var a in r||(r={}))$.call(r,a)&&D(o,a,r[a]);if(S)for(var a of S(r))G.call(r,a)&&D(o,a,r[a]);return o},f=(o,r)=>Y(o,W(r));import{_ as y,j as e,a as K,L as X,d as g}from"./index-3568ad3f.js";import{R as d,r as i}from"./react-vendor-3371026b.js";import{q as _,c as P,d as E,e as j}from"./firebase-vendor-3599879c.js";const k=d.lazy(()=>y(()=>import("./ShopManager-7d9b1aab.js"),["assets/ShopManager-7d9b1aab.js","assets/index-3568ad3f.js","assets/react-vendor-3371026b.js","assets/firebase-vendor-3599879c.js","assets/index-0c56a24c.css","assets/MaterialButton-a76764f8.js","assets/MaterialPagination-68a9ec80.js","assets/ShoppingCart-f336cbc0.js"])),Z=d.lazy(()=>y(()=>import("./BarcodeScanner-1c75db68.js"),["assets/BarcodeScanner-1c75db68.js","assets/index-3568ad3f.js","assets/react-vendor-3371026b.js","assets/firebase-vendor-3599879c.js","assets/index-0c56a24c.css"])),ss=d.lazy(()=>y(()=>import("./InventoryManager-32c9d9e4.js"),["assets/InventoryManager-32c9d9e4.js","assets/index-3568ad3f.js","assets/react-vendor-3371026b.js","assets/firebase-vendor-3599879c.js","assets/index-0c56a24c.css","assets/MaterialButton-a76764f8.js","assets/MaterialInput-0df2436e.js","assets/MaterialPagination-68a9ec80.js"])),es=d.lazy(()=>y(()=>import("./UsersManager-8adc32d6.js"),["assets/UsersManager-8adc32d6.js","assets/index-3568ad3f.js","assets/react-vendor-3371026b.js","assets/firebase-vendor-3599879c.js","assets/index-0c56a24c.css"])),rs=d.lazy(()=>y(()=>import("./AdminPanel-a5aaf943.js"),["assets/AdminPanel-a5aaf943.js","assets/index-3568ad3f.js","assets/react-vendor-3371026b.js","assets/firebase-vendor-3599879c.js","assets/index-0c56a24c.css","assets/MaterialButton-a76764f8.js","assets/MaterialInput-0df2436e.js"])),ts=d.lazy(()=>y(()=>import("./ShipmentProcessor-45964833.js"),["assets/ShipmentProcessor-45964833.js","assets/index-3568ad3f.js","assets/react-vendor-3371026b.js","assets/firebase-vendor-3599879c.js","assets/index-0c56a24c.css"])),os=d.lazy(()=>y(()=>import("./CheckoutHistory-4232620f.js"),["assets/CheckoutHistory-4232620f.js","assets/index-3568ad3f.js","assets/react-vendor-3371026b.js","assets/firebase-vendor-3599879c.js","assets/index-0c56a24c.css"]));d.lazy(()=>y(()=>import("./ShoppingCart-f336cbc0.js"),["assets/ShoppingCart-f336cbc0.js","assets/index-3568ad3f.js","assets/react-vendor-3371026b.js","assets/firebase-vendor-3599879c.js","assets/index-0c56a24c.css"]));const ls=({user:o})=>{var A;const[r,a]=i.useState("shop"),[c,p]=i.useState([]),[F,I]=i.useState([]),[N,T]=i.useState([]),[b,w]=i.useState([]),[L,O]=i.useState([]),[h,B]=i.useState(()=>{const s=localStorage.getItem("materialYouTheme");return s?JSON.parse(s):!0});i.useEffect(()=>{localStorage.setItem("materialYouTheme",JSON.stringify(h));const s=document.documentElement;h?(s.classList.add("dark"),s.style.setProperty("--md-sys-color-primary","#A6C8FF"),s.style.setProperty("--md-sys-color-on-primary","#002E69"),s.style.setProperty("--md-sys-color-primary-container","#004494"),s.style.setProperty("--md-sys-color-on-primary-container","#D1E4FF"),s.style.setProperty("--md-sys-color-surface","#101418"),s.style.setProperty("--md-sys-color-on-surface","#E1E2E8"),s.style.setProperty("--md-sys-color-surface-variant","#42474E"),s.style.setProperty("--md-sys-color-on-surface-variant","#C2C7CF"),s.style.setProperty("--md-sys-color-surface-container","#1C2024"),s.style.setProperty("--md-sys-color-surface-container-high","#272A2F"),s.style.setProperty("--md-sys-color-surface-container-highest","#31353A"),s.style.setProperty("--md-sys-color-outline","#8C9199"),s.style.setProperty("--md-sys-color-outline-variant","#42474E"),s.style.setProperty("--md-sys-color-error","#FFB4AB"),s.style.setProperty("--md-sys-color-error-container","#93000A"),s.style.setProperty("--md-sys-color-warning","#FFB951"),s.style.setProperty("--md-sys-color-warning-container","#7F4F00"),s.style.setProperty("--md-sys-color-success","#4DD865"),s.style.setProperty("--md-sys-color-success-container","#00390F")):(s.classList.remove("dark"),s.style.setProperty("--md-sys-color-primary","#1B5FBF"),s.style.setProperty("--md-sys-color-on-primary","#FFFFFF"),s.style.setProperty("--md-sys-color-primary-container","#D1E4FF"),s.style.setProperty("--md-sys-color-on-primary-container","#001D35"),s.style.setProperty("--md-sys-color-surface","#FCFCFF"),s.style.setProperty("--md-sys-color-on-surface","#1A1C1E"),s.style.setProperty("--md-sys-color-surface-variant","#E1E2E8"),s.style.setProperty("--md-sys-color-on-surface-variant","#42474E"),s.style.setProperty("--md-sys-color-surface-container","#F3F4FA"),s.style.setProperty("--md-sys-color-surface-container-high","#ECEEF4"),s.style.setProperty("--md-sys-color-surface-container-highest","#E6E7ED"),s.style.setProperty("--md-sys-color-outline","#73777F"),s.style.setProperty("--md-sys-color-outline-variant","#C2C7CF"),s.style.setProperty("--md-sys-color-error","#BA1A1A"),s.style.setProperty("--md-sys-color-error-container","#FFDAD6"),s.style.setProperty("--md-sys-color-warning","#A06500"),s.style.setProperty("--md-sys-color-warning-container","#FFDDB3"),s.style.setProperty("--md-sys-color-success","#146C2E"),s.style.setProperty("--md-sys-color-success-container","#B7F4B7"))},[h]);const R=(s,u=1)=>{const n=c.find(l=>l.id===s.id);p(n?c.map(l=>l.id===s.id?f(t({},l),{cartQuantity:l.cartQuantity+u}):l):[...c,f(t({},s),{cartQuantity:u})])},z=s=>{const u=c.find(n=>n.id===s);u&&u.cartQuantity>1?p(c.map(n=>n.id===s?f(t({},n),{cartQuantity:n.cartQuantity-1}):n)):p(c.filter(n=>n.id!==s))},Q=()=>{p([])},M=()=>{B(!h)};i.useEffect(()=>{const s=_(E(g,"items"),P("name")),u=j(s,x=>{const m=x.docs.map(v=>t({id:v.id},v.data()));I(m);const q=m.filter(v=>v.quantity<=(v.minThreshold||5));O(q)}),n=_(E(g,"users"),P("firstName")),l=j(n,x=>{T(x.docs.map(m=>t({id:m.id},m.data())))}),U=_(E(g,"checkoutHistory"),P("dateEntered","desc")),H=j(U,x=>{w(x.docs.map(m=>t({id:m.id},m.data())))});return()=>{u(),l(),H()}},[]);const C=[{id:"shop",name:"Shop",icon:"storefront",count:c.length},{id:"scanner",name:"Scanner",icon:"qr_code_scanner"},{id:"inventory",name:"Inventory",icon:"inventory_2",count:F.length},{id:"users",name:"Users",icon:"people",count:N.length},{id:"admin",name:"Admin",icon:"admin_panel_settings"},{id:"shipment",name:"Process Shipment",icon:"local_shipping"},{id:"history",name:"History",icon:"history",count:b.length}],V=()=>{const s={user:o,cart:c,setCart:p,addToCart:R,removeFromCart:z,clearCart:Q,items:F,users:N,checkoutHistory:b,notifications:L};switch(r){case"shop":return e.jsx(k,t({},s));case"scanner":return e.jsx(Z,t({},s));case"inventory":return e.jsx(ss,t({},s));case"users":return e.jsx(es,t({},s));case"admin":return e.jsx(rs,t({},s));case"shipment":return e.jsx(ts,t({},s));case"history":return e.jsx(os,t({},s));default:return e.jsx(k,t({},s))}};return e.jsxs("div",{className:"min-h-screen bg-[var(--md-sys-color-surface)]",children:[e.jsx("header",{className:"bg-[var(--md-sys-color-surface-container)] md-elevation-1",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"material-icons text-[var(--md-sys-color-primary)] mr-2",children:"inventory_2"}),e.jsx("h1",{className:"text-xl font-semibold text-[var(--md-sys-color-on-surface)]",children:"IT Inventory Management"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-sm text-[var(--md-sys-color-on-surface-variant)]",children:["Welcome, ",o.displayName||o.email]}),e.jsx("button",{onClick:M,className:"p-2 rounded-full hover:bg-[var(--md-sys-color-surface-variant)] transition-colors",title:h?"Switch to light mode":"Switch to dark mode",children:e.jsx("span",{className:"material-icons text-[var(--md-sys-color-on-surface-variant)]",children:h?"light_mode":"dark_mode"})}),e.jsx("button",{onClick:()=>K.signOut(),className:"text-sm text-[var(--md-sys-color-on-surface-variant)] hover:text-[var(--md-sys-color-on-surface)]",children:"Sign Out"})]})]})})}),e.jsx("nav",{className:"bg-[var(--md-sys-color-surface-container-high)] md-navigation-bar",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex space-x-2 overflow-x-auto",children:C.map(s=>e.jsxs("button",{onClick:()=>a(s.id),className:`md-navigation-tab ${r===s.id?"text-[var(--md-sys-color-primary)] border-b-2 border-[var(--md-sys-color-primary)]":"text-[var(--md-sys-color-on-surface-variant)]"}`,children:[e.jsx("span",{className:"material-icons",children:s.icon}),e.jsx("span",{children:s.name}),s.count>0&&e.jsx("span",{className:"md-badge bg-[var(--md-sys-color-error)] text-[var(--md-sys-color-on-error)]",children:s.count})]},s.id))})})}),e.jsx("main",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:e.jsx(i.Suspense,{fallback:e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(X,{size:"large"}),e.jsxs("span",{className:"ml-4 text-[var(--md-sys-color-on-surface-variant)]",children:["Loading ",(A=C.find(s=>s.id===r))==null?void 0:A.name,"..."]})]}),children:V()})}),c.length>0&&r!=="shop"&&e.jsxs("button",{onClick:()=>a("shop"),className:"fixed bottom-6 right-6 w-14 h-14 rounded-full bg-[var(--md-sys-color-primary)] text-[var(--md-sys-color-on-primary)] md-elevation-3 flex items-center justify-center hover:md-elevation-4 transition-all z-50",children:[e.jsx("span",{className:"material-icons",children:"shopping_cart"}),c.length>0&&e.jsx("span",{className:"absolute -top-2 -right-2 bg-[var(--md-sys-color-error)] text-[var(--md-sys-color-on-error)] rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:c.length})]})]})};export{ls as default};
