var V=Object.defineProperty,U=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var S=(o,r,a)=>r in o?V(o,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[r]=a,t=(o,r)=>{for(var a in r||(r={}))q.call(r,a)&&S(o,a,r[a]);if(A)for(var a of A(r))J.call(r,a)&&S(o,a,r[a]);return o},v=(o,r)=>U(o,H(r));import{_ as y,j as e,a as Y,L as W,d as f}from"./index-da008645.js";import{R as d,r as i}from"./react-vendor-3371026b.js";import{q as g,c as _,d as P,e as E}from"./firebase-vendor-3599879c.js";const D=d.lazy(()=>y(()=>import("./ShopManager-ac26bcdb.js"),["assets/ShopManager-ac26bcdb.js","assets/index-da008645.js","assets/react-vendor-3371026b.js","assets/firebase-vendor-3599879c.js","assets/index-6c531eeb.css","assets/MaterialButton-31a9cdca.js","assets/MaterialPagination-381540b8.js","assets/ShoppingCart-701aca8b.js"])),$=d.lazy(()=>y(()=>import("./BarcodeScanner-5b40df34.js"),["assets/BarcodeScanner-5b40df34.js","assets/index-da008645.js","assets/react-vendor-3371026b.js","assets/firebase-vendor-3599879c.js","assets/index-6c531eeb.css"])),G=d.lazy(()=>y(()=>import("./InventoryManager-1210be1e.js"),["assets/InventoryManager-1210be1e.js","assets/index-da008645.js","assets/react-vendor-3371026b.js","assets/firebase-vendor-3599879c.js","assets/index-6c531eeb.css","assets/MaterialButton-31a9cdca.js","assets/MaterialInput-989ac381.js","assets/MaterialPagination-381540b8.js"])),K=d.lazy(()=>y(()=>import("./UsersManager-abfe2aa5.js"),["assets/UsersManager-abfe2aa5.js","assets/index-da008645.js","assets/react-vendor-3371026b.js","assets/firebase-vendor-3599879c.js","assets/index-6c531eeb.css"])),X=d.lazy(()=>y(()=>import("./AdminPanel-823bbd7c.js"),["assets/AdminPanel-823bbd7c.js","assets/index-da008645.js","assets/react-vendor-3371026b.js","assets/firebase-vendor-3599879c.js","assets/index-6c531eeb.css","assets/MaterialButton-31a9cdca.js","assets/MaterialInput-989ac381.js"])),Z=d.lazy(()=>y(()=>import("./ShipmentProcessor-d34a39b9.js"),["assets/ShipmentProcessor-d34a39b9.js","assets/index-da008645.js","assets/react-vendor-3371026b.js","assets/firebase-vendor-3599879c.js","assets/index-6c531eeb.css"])),ss=d.lazy(()=>y(()=>import("./CheckoutHistory-8232231d.js"),["assets/CheckoutHistory-8232231d.js","assets/index-da008645.js","assets/react-vendor-3371026b.js","assets/firebase-vendor-3599879c.js","assets/index-6c531eeb.css"]));d.lazy(()=>y(()=>import("./ShoppingCart-701aca8b.js"),["assets/ShoppingCart-701aca8b.js","assets/index-da008645.js","assets/react-vendor-3371026b.js","assets/firebase-vendor-3599879c.js","assets/index-6c531eeb.css"]));const as=({user:o})=>{var C;const[r,a]=i.useState("shop"),[c,u]=i.useState([]),[j,k]=i.useState([]),[F,I]=i.useState([]),[N,T]=i.useState([]),[x,w]=i.useState(()=>{const s=localStorage.getItem("materialYouTheme");return s?JSON.parse(s):!0});i.useEffect(()=>{localStorage.setItem("materialYouTheme",JSON.stringify(x));const s=document.documentElement;x?(s.classList.add("dark"),s.style.setProperty("--md-sys-color-primary","#A6C8FF"),s.style.setProperty("--md-sys-color-on-primary","#002E69"),s.style.setProperty("--md-sys-color-primary-container","#004494"),s.style.setProperty("--md-sys-color-on-primary-container","#D1E4FF"),s.style.setProperty("--md-sys-color-surface","#101418"),s.style.setProperty("--md-sys-color-on-surface","#E1E2E8"),s.style.setProperty("--md-sys-color-surface-variant","#42474E"),s.style.setProperty("--md-sys-color-on-surface-variant","#C2C7CF"),s.style.setProperty("--md-sys-color-surface-container","#1C2024"),s.style.setProperty("--md-sys-color-surface-container-high","#272A2F"),s.style.setProperty("--md-sys-color-surface-container-highest","#31353A"),s.style.setProperty("--md-sys-color-outline","#8C9199"),s.style.setProperty("--md-sys-color-outline-variant","#42474E"),s.style.setProperty("--md-sys-color-error","#FFB4AB"),s.style.setProperty("--md-sys-color-error-container","#93000A"),s.style.setProperty("--md-sys-color-warning","#FFB951"),s.style.setProperty("--md-sys-color-warning-container","#7F4F00"),s.style.setProperty("--md-sys-color-success","#4DD865"),s.style.setProperty("--md-sys-color-success-container","#00390F")):(s.classList.remove("dark"),s.style.setProperty("--md-sys-color-primary","#1B5FBF"),s.style.setProperty("--md-sys-color-on-primary","#FFFFFF"),s.style.setProperty("--md-sys-color-primary-container","#D1E4FF"),s.style.setProperty("--md-sys-color-on-primary-container","#001D35"),s.style.setProperty("--md-sys-color-surface","#FCFCFF"),s.style.setProperty("--md-sys-color-on-surface","#1A1C1E"),s.style.setProperty("--md-sys-color-surface-variant","#E1E2E8"),s.style.setProperty("--md-sys-color-on-surface-variant","#42474E"),s.style.setProperty("--md-sys-color-surface-container","#F3F4FA"),s.style.setProperty("--md-sys-color-surface-container-high","#ECEEF4"),s.style.setProperty("--md-sys-color-surface-container-highest","#E6E7ED"),s.style.setProperty("--md-sys-color-outline","#73777F"),s.style.setProperty("--md-sys-color-outline-variant","#C2C7CF"),s.style.setProperty("--md-sys-color-error","#BA1A1A"),s.style.setProperty("--md-sys-color-error-container","#FFDAD6"),s.style.setProperty("--md-sys-color-warning","#A06500"),s.style.setProperty("--md-sys-color-warning-container","#FFDDB3"),s.style.setProperty("--md-sys-color-success","#146C2E"),s.style.setProperty("--md-sys-color-success-container","#B7F4B7"))},[x]);const L=(s,p=1)=>{const n=c.find(l=>l.id===s.id);u(n?c.map(l=>l.id===s.id?v(t({},l),{cartQuantity:l.cartQuantity+p}):l):[...c,v(t({},s),{cartQuantity:p})])},O=s=>{const p=c.find(n=>n.id===s);p&&p.cartQuantity>1?u(c.map(n=>n.id===s?v(t({},n),{cartQuantity:n.cartQuantity-1}):n)):u(c.filter(n=>n.id!==s))},B=()=>{u([])},R=()=>{w(!x)};i.useEffect(()=>{const s=g(P(f,"items"),_("name")),p=E(s,h=>{k(h.docs.map(m=>t({id:m.id},m.data())))}),n=g(P(f,"users"),_("firstName")),l=E(n,h=>{I(h.docs.map(m=>t({id:m.id},m.data())))}),Q=g(P(f,"checkoutHistory"),_("dateEntered","desc")),M=E(Q,h=>{T(h.docs.map(m=>t({id:m.id},m.data())))});return()=>{p(),l(),M()}},[]);const b=[{id:"shop",name:"Shop",icon:"storefront",count:c.length},{id:"scanner",name:"Scanner",icon:"qr_code_scanner"},{id:"inventory",name:"Inventory",icon:"inventory_2",count:j.length},{id:"users",name:"Users",icon:"people",count:F.length},{id:"admin",name:"Admin",icon:"admin_panel_settings"},{id:"shipment",name:"Process Shipment",icon:"local_shipping"},{id:"history",name:"History",icon:"history",count:N.length}],z=()=>{const s={user:o,cart:c,setCart:u,addToCart:L,removeFromCart:O,clearCart:B,items:j,users:F,checkoutHistory:N,notifications};switch(r){case"shop":return e.jsx(D,t({},s));case"scanner":return e.jsx($,t({},s));case"inventory":return e.jsx(G,t({},s));case"users":return e.jsx(K,t({},s));case"admin":return e.jsx(X,t({},s));case"shipment":return e.jsx(Z,t({},s));case"history":return e.jsx(ss,t({},s));default:return e.jsx(D,t({},s))}};return e.jsxs("div",{className:"min-h-screen bg-[var(--md-sys-color-surface)]",children:[e.jsx("header",{className:"bg-[var(--md-sys-color-surface-container)] md-elevation-1",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"material-icons text-[var(--md-sys-color-primary)] mr-2",children:"inventory_2"}),e.jsx("h1",{className:"text-xl font-semibold text-[var(--md-sys-color-on-surface)]",children:"IT Inventory Management"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-sm text-[var(--md-sys-color-on-surface-variant)]",children:["Welcome, ",o.displayName||o.email]}),e.jsx("button",{onClick:R,className:"p-2 rounded-full hover:bg-[var(--md-sys-color-surface-variant)] transition-colors",title:x?"Switch to light mode":"Switch to dark mode",children:e.jsx("span",{className:"material-icons text-[var(--md-sys-color-on-surface-variant)]",children:x?"light_mode":"dark_mode"})}),e.jsx("button",{onClick:()=>Y.signOut(),className:"text-sm text-[var(--md-sys-color-on-surface-variant)] hover:text-[var(--md-sys-color-on-surface)]",children:"Sign Out"})]})]})})}),e.jsx("nav",{className:"bg-[var(--md-sys-color-surface-container-high)] md-navigation-bar",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex space-x-2 overflow-x-auto",children:b.map(s=>e.jsxs("button",{onClick:()=>a(s.id),className:`md-navigation-tab ${r===s.id?"text-[var(--md-sys-color-primary)] border-b-2 border-[var(--md-sys-color-primary)]":"text-[var(--md-sys-color-on-surface-variant)]"}`,children:[e.jsx("span",{className:"material-icons",children:s.icon}),e.jsx("span",{children:s.name}),s.count>0&&e.jsx("span",{className:"md-badge bg-[var(--md-sys-color-error)] text-[var(--md-sys-color-on-error)]",children:s.count})]},s.id))})})}),e.jsx("main",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:e.jsx(i.Suspense,{fallback:e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(W,{size:"large"}),e.jsxs("span",{className:"ml-4 text-[var(--md-sys-color-on-surface-variant)]",children:["Loading ",(C=b.find(s=>s.id===r))==null?void 0:C.name,"..."]})]}),children:z()})}),c.length>0&&r!=="shop"&&e.jsxs("button",{onClick:()=>a("shop"),className:"fixed bottom-6 right-6 w-14 h-14 rounded-full bg-[var(--md-sys-color-primary)] text-[var(--md-sys-color-on-primary)] md-elevation-3 flex items-center justify-center hover:md-elevation-4 transition-all z-50",children:[e.jsx("span",{className:"material-icons",children:"shopping_cart"}),c.length>0&&e.jsx("span",{className:"absolute -top-2 -right-2 bg-[var(--md-sys-color-error)] text-[var(--md-sys-color-on-error)] rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:c.length})]})]})};export{as as default};
