var Ie=Object.defineProperty,Pe=Object.defineProperties;var $e=Object.getOwnPropertyDescriptors;var ue=Object.getOwnPropertySymbols;var Se=Object.prototype.hasOwnProperty,ze=Object.prototype.propertyIsEnumerable;var pe=(g,f,d)=>f in g?Ie(g,f,{enumerable:!0,configurable:!0,writable:!0,value:d}):g[f]=d,L=(g,f)=>{for(var d in f||(f={}))Se.call(f,d)&&pe(g,d,f[d]);if(ue)for(var d of ue(f))ze.call(f,d)&&pe(g,d,f[d]);return g},M=(g,f)=>Pe(g,$e(f));var se=(g,f,d)=>new Promise((A,k)=>{var q=N=>{try{u(d.next(N))}catch(F){k(F)}},Z=N=>{try{u(d.throw(N))}catch(F){k(F)}},u=N=>N.done?A(N.value):Promise.resolve(N.value).then(q,Z);u((d=d.apply(g,f)).next())});import{j as e,d as B}from"./index-1badbbf8.js";import{r as C}from"./react-vendor-3371026b.js";import{w as ke,h as K,d as Fe,T as he}from"./firebase-vendor-fdbb15af.js";import{M as De}from"./MaterialButton-8b9a3b8c.js";import{M as O}from"./MaterialInput-314a40e5.js";const Le=({items:g,checkoutHistory:f,user:d})=>{const[A,k]=C.useState([]),[q,Z]=C.useState(""),[u,N]=C.useState([]),[F,ee]=C.useState(!1),[H,re]=C.useState(""),[_,ae]=C.useState(""),[te,ne]=C.useState(""),[ce,le]=C.useState(""),[ie,de]=C.useState(""),[U,me]=C.useState(null),[G,D]=C.useState(""),[xe,fe]=C.useState([]),ve=o=>{A.findIndex(n=>n.id===o.id)>=0?(k(n=>n.filter(a=>a.id!==o.id)),N(n=>n.filter(a=>a.inventoryItem.id!==o.id))):(k(n=>[...n,o]),ge(o))},ge=o=>{const c=f.filter(n=>{var a,l,h,b;return((a=n.itemName)==null?void 0:a.toLowerCase())===((l=o.name)==null?void 0:l.toLowerCase())||((h=n.item)==null?void 0:h.toLowerCase())===((b=o.name)==null?void 0:b.toLowerCase())});if(c.length>0){const n={inventoryItem:o,checkoutRecords:c,confirmedQuantity:c.reduce((a,l)=>a+(l.quantity||1),0),confirmedPrice:o.price||0};N(a=>[...a,n])}else{const n={inventoryItem:o,checkoutRecords:[],confirmedQuantity:1,confirmedPrice:o.price||0};N(a=>[...a,n])}},ye=(o,c,n)=>{N(a=>a.map(l=>l.inventoryItem.id===o?M(L({},l),{[c]:parseFloat(n)||0}):l))},Ne=o=>{const c=o.target.files[0];c&&c.type==="application/pdf"?me(c):alert("Please select a valid PDF file.")},be=()=>se(void 0,null,function*(){if(!U){D("❌ Please upload a receipt PDF first");return}if(u.length===0){D("❌ Please select at least one item from inventory");return}console.log("=== SHIPMENT PROCESSING DEBUG ==="),console.log("Matched checkouts:",u.length),u.forEach((a,l)=>{console.log(`Item ${l+1}: ${a.inventoryItem.name}`),console.log(`  - Confirmed Quantity: ${a.confirmedQuantity}`),console.log(`  - Confirmed Price: $${a.confirmedPrice}`),console.log(`  - Checkout Records: ${a.checkoutRecords.length}`)});const o=u.reduce((a,l)=>a+l.confirmedQuantity,0);console.log(`Total Expected Items: ${o}`),console.log("=================================");const c=u.map(a=>`  • ${a.inventoryItem.name}: ${a.confirmedQuantity} items @ $${a.confirmedPrice.toFixed(2)}`).join(`
`),n=`You are about to process ${u.length} item type(s) with a total of ${o} items:

${c}

Do you want to proceed?`;if(!confirm(n)){D("❌ Processing cancelled by user");return}ee(!0),D("⏳ Processing receipt and generating cost allocation...");try{const a=parseFloat(ce)||0,l=parseFloat(ie)||0,h=u.flatMap(s=>{const m=s.confirmedQuantity,v=[...s.checkoutRecords].sort((p,j)=>{var T,X,Q,E;const S=((X=(T=p.dateEntered)==null?void 0:T.toDate)==null?void 0:X.call(T))||p.dateEntered||new Date(0),i=((E=(Q=j.dateEntered)==null?void 0:Q.toDate)==null?void 0:E.call(Q))||j.dateEntered||new Date(0);return S-i}),t=[];let y=0;for(const p of v){if(y>=m)break;const j=p.quantity||1,S=m-y;S<j?(t.push(M(L({},p),{quantity:S})),y+=S):(t.push(p),y+=j)}const w=m-y,$=[];if(w>0)for(let p=0;p<w;p++)$.push({id:`synthetic-${s.inventoryItem.id}-${Date.now()}-${p}`,itemName:s.inventoryItem.name,userName:"IT Stock",quantity:1,departmentId:"1-20-000-5770",dateEntered:new Date,inventoryItem:s.inventoryItem,confirmedPrice:s.confirmedPrice});return[...t.map(p=>M(L({},p),{inventoryItem:s.inventoryItem,confirmedPrice:s.confirmedPrice})),...$]}),b=h.reduce((s,m)=>s+(m.quantity||1),0);console.log("=== ALLOCATION RESULT ==="),console.log(`Total checkout records allocated: ${h.length}`),console.log(`Total item quantity: ${b}`),b!==o?console.warn(`⚠️ MISMATCH: Expected ${o} items but allocated ${b}!`):console.log("✓ Quantities match!"),console.log("========================");const I=b>0?a/b:0,R=b>0?l/b:0,oe=h.reduce((s,m)=>{const v=m.departmentId||m.costCode||"IT Stock 1-20-000-5770",y=`${m.inventoryItem.name}|${v}`;return s[y]||(s[y]=[]),s[y].push(m),s},{}),V=Object.entries(oe).map(([s,m])=>{const[v,t]=s.split("|"),y=m.reduce((p,j)=>p+(j.quantity||1),0),w=m[0].confirmedPrice,$=I*y,z=R*y;return{itemName:v,quantity:y,unitPrice:w,totalCost:w*y+$+z,taxAllocation:$,feeAllocation:z,costCode:t}}),W=V.reduce((s,m)=>s+m.unitPrice*m.quantity,0),P=W+a+l;yield we(V,{subtotal:W,tax:a,fees:l,total:P,taxPerItem:I,feePerItem:R},U,h,{vendorName:H,orderNumber:_,receiptDate:te});const r=ke(B);for(const s of h){const m=s.departmentId||s.costCode||"IT Stock 1-20-000-5770",v=s.quantity||1,t=s.confirmedPrice,y=I*v,w=R*v,$=K(Fe(B,"costAllocation"));if(r.set($,{itemId:s.inventoryItem.id,itemName:s.inventoryItem.name,quantity:v,unitPrice:t,totalCost:t*v+y+w,taxAllocation:y,feeAllocation:w,costCode:m,userName:s.userName||s.user||"Unknown",vendor:H||"Unknown",orderNumber:_||"N/A",receiptDate:te||new Date().toISOString().split("T")[0],processedAt:he.now(),processedBy:(d==null?void 0:d.employeeID)||(d==null?void 0:d.email)||"Unknown",type:m.includes("Job")?"job":"it_stock"}),!s.id.startsWith("synthetic-")){const z=M(L({},s),{archivedAt:he.now(),archivedBy:(d==null?void 0:d.employeeID)||(d==null?void 0:d.email)||"Unknown",archiveReason:"Processed receipt"});delete z.id;const p=K(B,"archivedCheckouts",s.id);r.set(p,z);const j=K(B,"checkoutHistory",s.id);r.delete(j)}}for(const s of u){const m=K(B,"items",s.inventoryItem.id),t=(s.inventoryItem.quantity||0)+s.confirmedQuantity;r.update(m,{quantity:t})}yield r.commit();const x={timestamp:new Date().toISOString(),orderNumber:_||"N/A",itemsProcessed:h.length,totalAmount:P,vendor:H||"Unknown"};fe(s=>[...s,x]),k([]),N([]),re(""),ae(""),ne(""),le(""),de(""),me(null),D(`✅ Shipment processed successfully! ${b} items from ${u.length} product type(s) included in report. PDF downloaded and items archived.`),ee(!1)}catch(a){console.error("Error processing shipment:",a),D(`❌ Error: ${a.message}`),ee(!1)}}),we=(o,c,n,a,l)=>se(void 0,null,function*(){try{const h=window.PDFLib,{PDFDocument:b,rgb:I,StandardFonts:R}=h,oe=c.taxPerItem||0,V=c.feePerItem||0,W=yield n.arrayBuffer(),P=yield b.load(W);let r=P.addPage([612,792]);const x=yield P.embedFont(R.Helvetica),s=yield P.embedFont(R.HelveticaBold),{width:m,height:v}=r.getSize();let t=v-50;if(r.drawText("Shipment Cost Allocation Report",{x:50,y:t,size:16,font:s,color:I(0,0,0)}),t-=25,l.vendorName&&(r.drawText(`Vendor: ${l.vendorName}`,{x:50,y:t,size:10,font:x,color:I(0,0,0)}),t-=15),l.orderNumber&&(r.drawText(`Order Number: ${l.orderNumber}`,{x:50,y:t,size:10,font:x,color:I(0,0,0)}),t-=15),l.receiptDate&&(r.drawText(`Receipt Date: ${l.receiptDate}`,{x:50,y:t,size:10,font:x,color:I(0,0,0)}),t-=15),t-=5,c.tax>0||c.fees>0){const i=`Tax ($${c.tax.toFixed(2)}) and Fees ($${c.fees.toFixed(2)}) distributed evenly per item`;r.drawText(i,{x:50,y:t,size:10,font:x,color:I(0,0,0)}),t-=30}r.drawText("Cost Allocation Summary",{x:50,y:t,size:14,font:s,color:I(0,0,0)}),t-=25,r.drawText("Item Description",{x:50,y:t,size:9,font:s}),r.drawText("Qty",{x:280,y:t,size:9,font:s}),r.drawText("Job/Cost Code",{x:320,y:t,size:9,font:s}),r.drawText("Unit Price",{x:440,y:t,size:9,font:s}),r.drawText("Total Cost",{x:510,y:t,size:9,font:s}),t-=15;for(const i of o){t<150&&(r=P.addPage([612,792]),t=v-50,r.drawText("Item Description",{x:50,y:t,size:9,font:s}),r.drawText("Qty",{x:280,y:t,size:9,font:s}),r.drawText("Job/Cost Code",{x:320,y:t,size:9,font:s}),r.drawText("Unit Price",{x:440,y:t,size:9,font:s}),r.drawText("Total Cost",{x:510,y:t,size:9,font:s}),t-=15);const T=i.itemName.length>45?i.itemName.substring(0,45)+"...":i.itemName;r.drawText(T,{x:50,y:t,size:9,font:x}),r.drawText(String(i.quantity),{x:280,y:t,size:9,font:x}),r.drawText(i.costCode||"-",{x:320,y:t,size:9,font:x}),r.drawText(`$${i.unitPrice.toFixed(2)}`,{x:440,y:t,size:9,font:x}),r.drawText(`$${i.totalCost.toFixed(2)}`,{x:510,y:t,size:9,font:x}),t-=15}t-=10;const y=o.reduce((i,T)=>i+T.quantity,0);r.drawText(`Total Items: ${y}`,{x:50,y:t,size:9,font:s}),t-=20;const w=420;r.drawText(`Subtotal (Items): $${c.subtotal.toFixed(2)}`,{x:w,y:t,size:9,font:x}),t-=12,r.drawText(`Tax: $${c.tax.toFixed(2)}`,{x:w,y:t,size:9,font:x}),t-=12,r.drawText(`Fees: $${c.fees.toFixed(2)}`,{x:w,y:t,size:9,font:x}),t-=15,r.drawText(`Grand Total: $${c.total.toFixed(2)}`,{x:w,y:t,size:10,font:s}),t-=30,t<150&&(r=P.addPage([612,792]),t=v-50),r.drawText("Individual Checkout Details",{x:50,y:t,size:14,font:s,color:I(0,0,0)}),t-=25,r.drawText("Item Description",{x:50,y:t,size:9,font:s}),r.drawText("User",{x:210,y:t,size:9,font:s}),r.drawText("Qty",{x:330,y:t,size:9,font:s}),r.drawText("Cost Code",{x:360,y:t,size:9,font:s}),r.drawText("Unit Price",{x:460,y:t,size:9,font:s}),r.drawText("Total Cost",{x:520,y:t,size:9,font:s}),t-=15;for(const i of a){t<100&&(r=P.addPage([612,792]),t=v-50,r.drawText("Item Description",{x:50,y:t,size:9,font:s}),r.drawText("User",{x:210,y:t,size:9,font:s}),r.drawText("Qty",{x:330,y:t,size:9,font:s}),r.drawText("Cost Code",{x:360,y:t,size:9,font:s}),r.drawText("Unit Price",{x:460,y:t,size:9,font:s}),r.drawText("Total Cost",{x:520,y:t,size:9,font:s}),t-=15);const T=i.inventoryItem.name.length>30?i.inventoryItem.name.substring(0,30)+"...":i.inventoryItem.name,X=(i.userName||i.user||"N/A").length>20?(i.userName||i.user||"N/A").substring(0,20)+"...":i.userName||i.user||"N/A",Q=i.departmentId||i.costCode||"IT Stock 1-20-000-5770",E=i.confirmedPrice,Y=i.quantity||1,je=oe*Y,Te=V*Y,Ce=E*Y+je+Te;r.drawText(T,{x:50,y:t,size:9,font:x}),r.drawText(X,{x:210,y:t,size:9,font:x}),r.drawText(String(Y),{x:330,y:t,size:9,font:x}),r.drawText(Q,{x:360,y:t,size:9,font:x}),r.drawText(`$${E.toFixed(2)}`,{x:460,y:t,size:9,font:x}),r.drawText(`$${Ce.toFixed(2)}`,{x:520,y:t,size:9,font:x}),t-=15}t-=5;const $=a.reduce((i,T)=>i+(T.quantity||1),0);r.drawText(`Total Items: ${$}`,{x:50,y:t,size:9,font:s});const z=yield P.save(),p=new Blob([z],{type:"application/pdf"}),j=URL.createObjectURL(p),S=document.createElement("a");S.href=j,S.download=n.name,S.click(),URL.revokeObjectURL(j)}catch(h){throw console.error("Error generating PDF report:",h),h}}),J=g.filter(o=>{var n,a,l;if(!q)return!0;const c=q.toLowerCase();return((n=o.name)==null?void 0:n.toLowerCase().includes(c))||((a=o.category)==null?void 0:a.toLowerCase().includes(c))||((l=o.asin)==null?void 0:l.toLowerCase().includes(c))});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mat-card p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold flex items-center mb-4",style:{color:"var(--color-text-light)"},children:[e.jsx("span",{className:"material-icons mr-2",children:"receipt_long"}),"Process Receipt"]}),e.jsx("p",{style:{color:"var(--color-text-muted)"},children:"Select items from inventory and process receipts with cost allocation to appropriate billing codes."})]}),e.jsxs("div",{className:"mat-card p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",style:{color:"var(--color-text-light)"},children:[e.jsx("span",{className:"material-icons mr-2",style:{color:"var(--color-primary-blue)"},children:"inventory_2"}),"Select from Inventory (",A.length," selected)"]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search by item name, category, or ASIN...",value:q,onChange:o=>Z(o.target.value),className:"w-full px-4 py-2 rounded-lg border border-[var(--md-sys-color-outline-variant)]",style:{background:"var(--md-sys-color-surface)",color:"var(--color-text-light)"}}),e.jsx("span",{className:"material-icons absolute right-3 top-2.5",style:{color:"var(--color-text-muted)"},children:"search"})]})}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{style:{background:"var(--md-sys-color-surface-container-high)"},children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium",style:{color:"var(--color-text-light)"},children:"Select"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium",style:{color:"var(--color-text-light)"},children:"Item"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium",style:{color:"var(--color-text-light)"},children:"Category"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium",style:{color:"var(--color-text-light)"},children:"Qty"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium",style:{color:"var(--color-text-light)"},children:"Price"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium",style:{color:"var(--color-text-light)"},children:"Cost Code"})]})}),e.jsx("tbody",{children:J.slice(0,20).map(o=>{const c=A.some(a=>a.id===o.id),n="IT Stock 1-20-000-5770";return e.jsxs("tr",{className:`border-b border-[var(--md-sys-color-outline-variant)] cursor-pointer hover:bg-[var(--md-sys-color-surface-container-highest)] ${c?"bg-[rgba(59,130,246,0.15)]":""}`,onClick:()=>ve(o),children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:c,onChange:()=>{},className:"cursor-pointer"})}),e.jsxs("td",{className:"px-4 py-2 text-sm font-medium",style:{color:"var(--color-text-light)"},children:[o.name,o.asin&&e.jsx("div",{className:"text-xs",style:{color:"var(--color-text-muted)"},children:o.asin})]}),e.jsx("td",{className:"px-4 py-2 text-sm",style:{color:"var(--color-text-muted)"},children:o.category||"Uncategorized"}),e.jsx("td",{className:"px-4 py-2 text-sm",children:e.jsx("span",{className:"quantity-badge adequate-stock",children:o.quantity||0})}),e.jsx("td",{className:"px-4 py-2 text-sm",style:{color:"var(--color-success-green)"},children:o.price>0?`$${o.price.toFixed(2)}`:"-"}),e.jsx("td",{className:"px-4 py-2 text-sm",children:e.jsx("span",{className:"pill-badge",children:n})})]},o.id)})})]}),J.length===0&&e.jsx("div",{className:"text-center py-8",style:{color:"var(--color-text-muted)"},children:"No inventory items available"}),J.length>20&&e.jsxs("div",{className:"text-center py-2 text-sm",style:{color:"var(--color-text-muted)"},children:["Showing first 20 of ",J.length," items"]})]})]}),u.length>0&&e.jsxs("div",{className:"mat-card p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",style:{color:"var(--color-text-light)"},children:[e.jsx("span",{className:"material-icons mr-2",style:{color:"var(--color-primary-blue)"},children:"link"}),"Matched Checkout Records (",u.length," items)"]}),e.jsx("div",{className:"space-y-4",children:u.map((o,c)=>e.jsxs("div",{className:"border border-[var(--md-sys-color-outline-variant)] rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium",style:{color:"var(--color-text-light)"},children:o.inventoryItem.name}),e.jsxs("span",{className:"text-sm",style:{color:"var(--color-text-muted)"},children:[o.checkoutRecords.length," checkout",o.checkoutRecords.length!==1?"s":""," matched"]})]}),o.checkoutRecords.length>0&&e.jsxs("div",{className:"mb-3",children:[e.jsx("h5",{className:"text-sm font-medium mb-2",style:{color:"var(--color-text-light)"},children:"Checkout Details:"}),e.jsx("div",{className:"space-y-1",children:o.checkoutRecords.map((n,a)=>{var l,h;return e.jsxs("div",{className:"text-xs p-2 rounded",style:{background:"var(--md-sys-color-surface-container-high)",color:"var(--color-text-muted)"},children:[n.userName||n.user," • Qty: ",n.quantity," • Dept: ",n.departmentId||n.costCode," • ",new Date(((h=(l=n.dateEntered)==null?void 0:l.toDate)==null?void 0:h.call(l))||n.dateEntered||n.date).toLocaleDateString()]},n.id)})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text-light)"},children:"Received Quantity"}),e.jsx("input",{type:"number",min:"1",value:o.confirmedQuantity,onChange:n=>ye(o.inventoryItem.id,"confirmedQuantity",n.target.value),className:"w-full px-3 py-2 rounded-lg border border-[var(--md-sys-color-outline-variant)]",style:{background:"var(--md-sys-color-surface)",color:"var(--color-text-light)"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text-light)"},children:"Unit Price"}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:o.confirmedPrice,onChange:n=>ye(o.inventoryItem.id,"confirmedPrice",n.target.value),className:"w-full px-3 py-2 rounded-lg border border-[var(--md-sys-color-outline-variant)]",style:{background:"var(--md-sys-color-surface)",color:"var(--color-text-light)"}})]})]}),e.jsxs("div",{className:"mt-3 text-sm",style:{color:"var(--color-text-muted)"},children:["Total: $",(o.confirmedQuantity*o.confirmedPrice).toFixed(2)]})]},o.inventoryItem.id))})]}),e.jsxs("div",{className:"mat-card p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",style:{color:"var(--color-text-light)"},children:[e.jsx("span",{className:"material-icons mr-2",style:{color:"var(--color-success-green)"},children:"settings"}),"Shipment Details"]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text-light)"},children:"Upload Receipt PDF (Required)"}),e.jsxs("div",{className:"border-2 border-dashed border-[var(--md-sys-color-outline-variant)] rounded-lg p-6 text-center hover:border-[var(--color-primary-blue)] transition-colors",children:[e.jsx("input",{type:"file",accept:".pdf",onChange:Ne,className:"hidden",id:"pdf-upload"}),e.jsxs("label",{htmlFor:"pdf-upload",className:"cursor-pointer",children:[e.jsx("span",{className:"material-icons text-4xl",style:{color:"var(--color-text-muted)"},children:"upload_file"}),e.jsx("p",{className:"mt-2 text-sm",style:{color:"var(--color-text-light)"},children:"Click to upload PDF receipt or drag and drop"}),U&&e.jsxs("p",{className:"mt-2 text-sm font-medium",style:{color:"var(--color-success-green)"},children:["Selected: ",U.name]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(O,{type:"text",label:"Vendor Name",value:H,onChange:o=>re(o.target.value),placeholder:"e.g., Amazon, Staples"}),e.jsx(O,{type:"text",label:"Order Number",value:_,onChange:o=>ae(o.target.value),placeholder:"e.g., 114-5534389-2755439"}),e.jsx(O,{type:"date",label:"Receipt Date",value:te,onChange:o=>ne(o.target.value)}),e.jsx("div",{}),e.jsx(O,{type:"number",label:"Tax Amount",value:ce,onChange:o=>le(o.target.value),step:"0.01",min:"0",placeholder:"0.00",required:!0}),e.jsx(O,{type:"number",label:"Fees (Shipping/Handling)",value:ie,onChange:o=>de(o.target.value),step:"0.01",min:"0",placeholder:"0.00"})]}),e.jsx(De,{color:"success",className:"w-full mt-6",disabled:F||!U||u.length===0,onClick:be,children:F?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-icons mr-2",children:"receipt_long"}),"Process Receipt (",u.length," items)"]})})]}),G&&e.jsx("div",{className:`mat-card p-4 ${G.includes("✅")?"success-box":G.includes("⏳")?"info-box":"error-box"}`,children:G}),xe.length>0&&e.jsxs("div",{className:"mat-card p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",style:{color:"var(--color-text-light)"},children:[e.jsx("span",{className:"material-icons mr-2",style:{color:"var(--color-primary-blue)"},children:"history"}),"Recent Shipment Processing"]}),e.jsx("div",{className:"space-y-3",children:xe.slice(-5).reverse().map((o,c)=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg",style:{background:"var(--md-sys-color-surface-container-high)"},children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"material-icons",style:{color:"var(--color-success-green)"},children:"check_circle"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",style:{color:"var(--color-text-light)"},children:["Order ",o.orderNumber]}),e.jsxs("p",{className:"text-sm",style:{color:"var(--color-text-muted)"},children:[o.itemsProcessed," items • $",o.totalAmount.toFixed(2)," • ",o.vendor]})]})]}),e.jsx("div",{className:"text-sm",style:{color:"var(--color-text-muted)"},children:new Date(o.timestamp).toLocaleDateString()})]},c))})]})]})};export{Le as default};
